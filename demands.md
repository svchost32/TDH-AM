# 社招人员管理系统

## 概况
> 建立系统的目的，当前困难

需要管理的人员很多，靠review单个/数个文档效率太低。反馈时间等信息通过文本控制，不够直观。反馈包含多重上级评价，需要更系统化。更高级领导可以，但不需要过多关注内容细节而是评价内容。

周次周期，然后时间排序
登陆时间不确定的情况下，把同周期评价合并

管理页只负责信息提供
每个人




### 报告细节
> 参数
#### 反馈表
- 反馈时间
- 姓名
- 部门
- 带教老师
- 工作情况
  - 工作安排
  - 实际进展
  - N/ 备注
- 学习情况
  -  请教问题
  -  是否解决
- 工作态度
- 提升空间
- 工作情况
- 工作评价
  - level 1 ↓
  - level 2 ↓
  - ...
  - 总结
  
***

## 目前组织行政结构
> 人员结构
+ 总经理
  - 部门副总经理
    - 区域/部门经理
      - 部门组长
        - 人力经理（多部门审查）
        - 人力副总
          - 部门经理
          - 部门副总
            - 开发经理（对多）
              - 带教老师（对1）
                - 自己 （自己可看）

***

## 设计目标
> 为了应对什么，设计理念
- 电子化、数据库化
- 方便统计，时间戳直观报告情况
- 和人事数据库联动，方便管理
- 高level的用户只需要关注更少细节，更关注整体评价

### 逻辑
> 处理逻辑
- level 1 用户更新基础反馈表和其评价
  - level 1 只有改查
- 所有level1+用户都可增改查基础信息
  - 每个人增时自己情况给出评价（增加评论和评论者信息
- 针对高level用户自动折叠非必要内容，只显示是否评价
  - > 内容&评价
- 确认合格后勾选实现功能（有需要）
  - > 功能为总结？
  - 可选


### 框架
> 前端
- html5+css+vue
> 后端
- node（为主）
- java（可能？）
> 数据库
- mysql（测试）
- 理论全兼容

### UI
> 环境 
- 简介
- 效率
> 前端
- 管理页（main）
  - 导航
    - 从属
      - 可更新，增/删
      - 排除level 1
    - 排序
      - sort by 下拉菜单
    - 查询
      - 查询 by 下拉菜单
      - foucused，改变样式，百度搜索
  - 反馈记录 body
    - level 1 只查询对应所有记录
      - 记录内容增删改查
      - 默认展开
    - level 1+ 查询具体几位人，人对应其记录（level1模块*N）
      - 默认不展开
      
- 录入页 （只针对level1）
  - 信息填报
  - 评价填报

### 系统结构
+ 前台系统
  |  固定内容   | 交互  | 类型 | 权限 |
  |  ----  | ----  | ---- | ---- |
  | 反馈表提交页面  | 处理提交的反馈表给后端 | post | 只有 level 1 编辑（原则上别人不改） |        
  |  管理页面 - 从属  | 根据现有用户列出相对应带教所属关系 | get | 内容以level递减（越低越少） | 
  |  管理页面 - 记录  | 列出所有符合已有记录 | get | 所有level | 
  |  管理页面 - 功能 | 对现有记录增删改查 | get | 原则上level 0+都可管理，内容折叠由低到高变多 | 

  
+ 后端系统
  |  对前台获取类型   | 对前台返回类型  | 对数据库 | 对数据库返回 |
  |  ----  | ----  | ---- | ---- |
  |  身份/用户组比对  | NULL  | 查询对应功能 | NULL |
  |  反馈表信息  | done  | 身份比对后写入 | NULL |
  |  评价信息  | done  | 身份比对后写入 | NULL |
  |  结构确认  | 当前level下所属关系  | 所属关系查询 | NULL |
  |  记录  | 有多少包含反馈的记录，细化  | 记录查询 | NULL |
  |  功能  | done  | 增删改查 | 增删改查 |


+ 数据库
  |  对后台功能  | 操作  | 反馈 | ---- |
  |  ----  | ----  | ---- | ---- |
  |  身份组比对  | 查询  | 功能组 | ---- |
  |  反馈表信息  | 写入  | done | ---- |
  |  评价信息  | 写入  | done | ---- |
  |  结构  | 查询  | 结构信息 | ---- |
  |  记录数查询  | 查询  | 记录数 | ---- |
  |  记录内容增删改查  | 增删改查  | 内容 | ---- |
  

### 需求
> 针对需求设计功能
- 身份
  - 登录验证
  - 判断level信息组
    - 从属关系判断
      - level 0 （本人）被评价者，所有信息只读
      - level 1 （带教老师）主体评价人，主要内容生产者
      - level 1+ （manager）有增删改查权限，原则只对时间和是否评价感兴趣，其余折叠
- 提交
  - 基础内容提交
  - 评价提交
- 增删改查
  - 增加信息
    - level 1 无此选项
    - level 1 的改就是编辑表单评价就是level1+的增
    - 如果有对应level+的评价不为空，增灰色
  - 删除信息
    - 暂时不开发
  - 改变信息
    - level 1 的改就是编辑表单评价就是level1+的增
  - 查询信息
    - 记录查询
- 最后意见/总结提交（？后续跟进）

### 前端
> 基础信息提交页面（level 1）
  - 基础内容录入
  - 提交评价内容
> 人员管理页
  - 导航
    - 从属
    - 排序
    - 查
  - 主体
    - 记录主体（uid，对应周期，是否评价）
      - +号展开
        - 展开后改
#### 功能实现
按钮
  - 组1
    - 按钮1-1：
    - 按钮1-2：提交内容: `tdh_postform()`
      - > 单机事件
  - 组2
    - 按钮2-1：展开+号
      - > 单击事件
      - 前后端同时
    - 按钮2-2：闭合-号
      - > 单击事件
      - 前端
  - 组3
    - 按钮3-1：增 ：`tdh_addCommentsbyID()`
      - > 单击事件
    - 按钮3-2：删
    - 按钮3-3：改: `tdh_modifybyID()`
      - > 单击事件
    - 按钮3-4：查 ：`tdh_searchbyID()`
      - > 单击事件

下拉
  -下拉组1
    - 下拉1-1：

文本框
  - 组1 
    - ...: 表单数据
  - 组2
    - 文本2: 记录 
      - > 加载事件
      - 被 按钮3-4：查：`tdh_searchbyID()`刷新

### 接口
#### 前端接口
按钮1-2：提交内容：接口1：`tdh_postform()`
- 提交前台反馈表的表单信息给node后台
- 
  
按钮3-3：改：接口3
- 更改id为`?`的用户的`?`字段内容

#### 后端接口
- `tdh_postform()`: 处理接口1:`tdh_add_data()`
  - 接受表单内容
  - 转入`?`数据库
  

### 数据库
#### 主表内容
  - 反馈表
      - UID（记录）
      - 反馈时间
      - 被反馈者姓名
      - 部门
      - 带教老师
      - 工作安排
      - 实际进展
      - 工作备注
      - 请教问题
      - 是否解决
      - 工作态度
      - 提升空间
      - 工作情况
      - level 1 评价
      - level 1 姓名
      - level 2 评价
      - level 2 姓名
      - ...
      - 总结
  - 记录表
    - UID （记录）
    - 对象
    - 周期时间
    - 带教是否评价
    - 几条额外评价
  - 从属表（键值对）
    - 带教者姓名
    - 带教学生list
  - 权限功能对照表
    - level 等级
    - 对应功能

  #### 数据库结构
  + 主数据库
    - 反馈表（时间排序）
      - 反馈表基础
      - 评价
        - 提交人姓名
        - 内容
        - 等级
    - 记录表（记录排序）
      - 反馈记录id
      - 对象姓名
      - 是否评价
      - 额外
    - 从属关系表
      - 
    - 权限功能对照表
      - 

